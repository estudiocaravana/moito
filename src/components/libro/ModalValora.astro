---
import Estrelas from "../Estrelas.astro";
---

<div id="hs-scale-animation-modal" class="hs-overlay-backdrop-open:bg-slate-500/20 hs-overlay hidden size-full fixed top-0 start-0 z-80 overflow-x-hidden overflow-y-auto pointer-events-none" role="dialog" tabindex="-1" aria-labelledby="hs-scale-animation-modal-label">
  <div class="hs-overlay-animation-target hs-overlay-open:scale-100 hs-overlay-open:opacity-100 scale-95 opacity-0 ease-in-out transition-all duration-200 sm:max-w-4xl sm:w-full m-3 sm:mx-auto min-h-[calc(100%-56px)] flex items-center">
    <div class="relative w-full flex flex-col bg-white border border-gray-200 shadow-2xs rounded-2xl pointer-events-auto">
      <button
        type="button"
        class="absolute right-6 top-6 size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-hidden focus:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none"
        aria-label="Close"
        data-hs-overlay="#hs-scale-animation-modal"
      >
        <span class="sr-only">Close</span>
        <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 6 6 18"></path>
          <path d="m6 6 12 12"></path>
        </svg>
      </button>

      <div class="flex flex-col md:flex-row gap-12 mt-6 p-6 sm:p-12">
        <!-- COLUMNA IZQ -->
        <div class="flex-1 sm:w-[420px] sm:mx-auto max-w-[240px]">
          <img src="/libro/portada-nena.jpg" class="shadow-md" alt="" />
        </div>
        <!-- COLUMNA DRCH -->
        <div class="flex-1 text-left">
          <h1 class="text-4xl">Valora A nena lectora</h1>
          <a href="#" class="block mt-2 text-sm">De Manuel Rivas</a>
          <!-- valoración -->
          <div class="mt-9">
            Tu valoración
            <div class="w-40 text-cyan-500 mt-2">
              <!-- Rating -->
              <div class="flex flex-row-reverse justify-end items-center rating">
                <input id="hs-ratings-readonly-1" type="radio" class="peer -ms-5 size-6 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="1" />
                <label for="hs-ratings-readonly-1" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none">
                  <svg class="shrink-0 size-6" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                  </svg>
                </label>
                <input id="hs-ratings-readonly-2" type="radio" class="peer -ms-5 size-6 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="2" />
                <label for="hs-ratings-readonly-2" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none">
                  <svg class="shrink-0 size-6" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                  </svg>
                </label>
                <input id="hs-ratings-readonly-3" type="radio" class="peer -ms-5 size-6 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="3" />
                <label for="hs-ratings-readonly-3" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none">
                  <svg class="shrink-0 size-6" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                  </svg>
                </label>
                <input id="hs-ratings-readonly-4" type="radio" class="peer -ms-5 size-6 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="4" />
                <label for="hs-ratings-readonly-4" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none">
                  <svg class="shrink-0 size-6" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                  </svg>
                </label>
                <input id="hs-ratings-readonly-5" type="radio" class="peer -ms-5 size-6 bg-transparent border-0 text-transparent cursor-pointer appearance-none checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0" name="hs-ratings-readonly" value="5" />
                <label for="hs-ratings-readonly-5" class="peer-checked:text-yellow-400 text-gray-300 pointer-events-none">
                  <svg class="shrink-0 size-6" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                  </svg>
                </label>
              </div>
              <!-- End Rating -->
            </div>
          </div>
          <!-- comentarios -->
          <div class="mt-9">Que te pareceu este título?</div>
          <textarea class="w-full mt-2 border border-slate-400 rounded-2xl p-2" rows="4"></textarea>
          <div class="mt-3 flex items-center">
            <input type="checkbox" id="marcar-lido" checked class="rounded-md size-5 checked:bg-cyan-500 focus:bg-cyan-500 checked:ring-cyan-500 focus:ring-cyan-500" />
            <label for="marcar-lido" class="ml-2">Marcar o libro como lido</label>
          </div>
          <button class="boton negro mt-9">Valorar este libro</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.querySelectorAll(".rating").forEach((group) => {
    const labels = Array.from(group.querySelectorAll("label"));
    console.log(labels);
    labels.forEach((label, idx) => {
      console.log(label);
      label.addEventListener("mouseenter", () => {
        label.click();
        console.log("dentro");
      });
    });
  });
</script>
